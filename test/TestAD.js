const chai = require('chai')
const expect = chai.expect
const AirDrop = artifacts.require("Airdrop")
const Token = artifacts.require("TestTokenA")
const { leavesWithProof } = require("./constants")

let airDrop
let token

contract("AirDrop", () => {
  beforeEach(async () => {
    airDrop = await AirDrop.deployed()
    token = await Token.deployed()    
  })

  describe('check()', async () => {
    it('should verify root successful with proof generated by typescript', async () => {
      for (let i = 0; i < leavesWithProof.length; i++) {
        const leaf = leavesWithProof[i]
        const v = await airDrop.check.call(i+2854, leaf.address, leaf.amount, leaf.proof)
        expect(v[0]).to.be.true
      }
    })
  })
})
